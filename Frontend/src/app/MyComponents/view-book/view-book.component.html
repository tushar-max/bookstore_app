<nav class="d-flex">
    <h6 class="mb-0">
        <a href="" class="text-black-50">Home</a>
        <span class="text-black-50 mx-2"> > </span>
        <a class="text-black"><u>{{book?.title}}</u></a>
    </h6>
</nav>
<br>

<div *ngIf="!book">
    Book not found.
</div>
<div *ngIf="book">
    <h2>Buy {{book.title}} book at best price</h2>

    <div class="ps-lg-3">
        <div class="d-flex flex-row my-3">
            <span class="text-muted">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-chat-left-quote-fill" viewBox="0 0 16 16">
                    <path
                        d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm7.194 2.766a1.7 1.7 0 0 0-.227-.272 1.5 1.5 0 0 0-.469-.324l-.008-.004A1.8 1.8 0 0 0 5.734 4C4.776 4 4 4.746 4 5.667c0 .92.776 1.666 1.734 1.666.343 0 .662-.095.931-.26-.137.389-.39.804-.81 1.22a.405.405 0 0 0 .011.59c.173.16.447.155.614-.01 1.334-1.329 1.37-2.758.941-3.706a2.5 2.5 0 0 0-.227-.4zM11 7.073c-.136.389-.39.804-.81 1.22a.405.405 0 0 0 .012.59c.172.16.446.155.613-.01 1.334-1.329 1.37-2.758.942-3.706a2.5 2.5 0 0 0-.228-.4 1.7 1.7 0 0 0-.227-.273 1.5 1.5 0 0 0-.469-.324l-.008-.004A1.8 1.8 0 0 0 10.07 4c-.957 0-1.734.746-1.734 1.667 0 .92.777 1.666 1.734 1.666.343 0 .662-.095.931-.26z" />
                </svg>
                {{reviews.length}} reviews</span>
            <span class="text-success ms-2" *ngIf="book.quantity>0">In stock</span>
            <span class="text-danger ms-2" *ngIf="book.quantity<=0">Out of stock</span>
        </div>

        <div class="mb-3">
            <span class="h5">₹ {{book.price}}</span>
            <span class="text-muted">/per book only</span>
        </div>

        <p><i>"The person, be it gentleman or lady, who has not pleasure in a good novel, must be intolerably
                stupid."</i> - Jane Austen</p>


        <div class="row">
            <dt class="col-3">Book Title</dt>
            <dd class="col-9">{{book.title}}</dd>

            <dt class="col-3">Price</dt>
            <dd class="col-9">₹ {{book.price}}</dd>

            <dt class="col-3">Author</dt>
            <dd class="col-9">{{book.author}}</dd>

            <dt class="col-3">Genre</dt>
            <dd class="col-9">{{book.genre}}</dd>

            <dt class="col-3">Published Date</dt>
            <dd class="col-9">{{book.date}}</dd>
        </div>

        <hr />
        <div *ngIf="isLoggedIn()&&!isAdmin()&&book.quantity>0">
            <button class="btn btn-warning shadow-0" (click)="handleBuyNow()"> Buy now </button>&nbsp;
            <button class="btn btn-primary shadow-0" (click)="handleAddToCart()">Add to cart </button>
        </div>

    </div>

    <br>


    <h2>Reviews</h2>
    <div *ngIf="reviews.length==0">
        <p>No Reviews yet.</p>
        <br>
    </div>
    <div class="card mb-3" *ngFor="let review of reviews">
        <div class="card-body">
            <h5 class="card-title">
                {{review.rating}}
                <span class="ms-1 text-warning mb-1 me-2">

                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path
                            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                    </svg>
                </span>
                rating by {{review.email}}
            </h5>
            <pre class="card-text">{{review.review}}</pre>
        </div>
    </div>

</div>